<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Smooth Animated Center Popup</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f2f2f2;
        }

        /* Button styling */
        .open-btn {
            padding: 10px 24px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .overlay.active {
            display: flex;
            animation: fadeIn 0.3s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Popup animation */
        .popup {
            width: 400px;
            background-color: #fff;
            padding: 24px 32px;
            border-radius: 14px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: scale(0.9);
            animation: popupIn 0.4s ease forwards;
            max-height: 400px;
            /* Limit the height of the popup */
            overflow-y: auto;
            /* Enable scrolling if the content exceeds the max height */
        }

        .popComment {
            width: 100% !important;
            position: sticky;
            display: flex;
            /* height: 100px; */
            justify-content: center;
            align-items: center;
            gap: 2px;
            bottom: 0px;
            /* border: 2px solid; */
            /* background-color: black; */
        }


        @keyframes popupIn {
            0% {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }

            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Input field */
        .popup input[type="text"] {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            /* margin-bottom: 16px; */
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        /* Close button */
        .close-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
    </style>
</head>

<body>

    <button class="open-btn" onclick="openPopup()"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
            fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16" onclick="comments(${data.id})"
            style="cursor: pointer;">
            <path
                d="M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105" />
        </svg></button>

    <div class="overlay" id="popupOverlay">
        <div class="popup">

            <div class="popComment">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates harum possimus enim accusamus at perferendis! Architecto error dolores odit odio quasi, beatae sit, explicabo incidunt repellat animi dicta. Numquam, ratione?
                <input type="text" placeholder="Add a comment...." />
                <button class="close-btn" onclick="closePopup()">Close</button>
            </div>
        </div>
    </div>

    <script>
        function openPopup() {
            const overlay = document.getElementById('popupOverlay');
            overlay.classList.add('active');
        }

        function closePopup() {
            const overlay = document.getElementById('popupOverlay');
            overlay.classList.remove('active');
        }
    </script>

</body>

</html> -->



<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Smooth Animated Center Popup</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f2f2f2;
        }

        .open-btn {
            padding: 10px 24px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .overlay.active {
            display: flex;
            animation: fadeIn 0.3s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .popup {
            width: 400px;
            background-color: #fff;
            padding: 24px 32px;
            border-radius: 14px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: scale(0.9);
            animation: popupIn 0.4s ease forwards;
            max-height: 450px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        @keyframes popupIn {
            0% {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }

            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Comments List */
        .comments-list {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 16px;
            padding-right: 4px;
        }

        .comment {
            background: #f0f0f0;
            margin-bottom: 8px;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
        }

        /* Input area */
        .popComment {
            display: flex;
            gap: 6px;
            position: sticky;
            bottom: 0;
            background: white;
            padding-top: 8px;
        }

        .popComment input[type="text"] {
            flex: 1;
            padding: 10px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        .popComment button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .close-btn {
            background-color: #dc3545;
        }
    </style>
</head>

<body>

    <button class="open-btn" onclick="openPopup()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
            fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16"
            style="cursor: pointer;">
            <path d="M2.678 11.894a1 1 0 0 1 .287.801..."></path>
        </svg>
        Open Comments
    </button>

    <div class="overlay" id="popupOverlay">
        <div class="popup">
            <div class="comments-list" id="commentsList">
                <!-- Comments will appear here -->
            </div>

            <div class="popComment">
                <input type="text" id="commentInput" placeholder="Add a comment..." />
                <button onclick="addComment()">Post</button>
                <button class="close-btn" onclick="closePopup()">Close</button>
            </div>
        </div>
    </div>

    <script>
        const commentsList = document.getElementById('commentsList');
        const commentInput = document.getElementById('commentInput');
        let comments = [];

        function openPopup() {
            const overlay = document.getElementById('popupOverlay');
            overlay.classList.add('active');
            renderComments();
        }

        function closePopup() {
            const overlay = document.getElementById('popupOverlay');
            overlay.classList.remove('active');
            commentInput.value = '';
        }

        function addComment() {
            const newComment = commentInput.value.trim();
            if (newComment) {
                comments.push(newComment);
                commentInput.value = '';
                renderComments();
            }
        }

        function renderComments() {
            commentsList.innerHTML = '';
            comments.forEach(comment => {
                const commentDiv = document.createElement('div');
                commentDiv.className = 'comment';
                commentDiv.textContent = comment;
                commentsList.appendChild(commentDiv);
            });

            // Auto scroll to bottom
            commentsList.scrollTop = commentsList.scrollHeight;
        }
    </script>

</body>

</html>
